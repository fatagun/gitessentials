<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Git essentials</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/moon.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<style type="text/css">
			p { text-align: left; }
			small {text-align: left;}
 			img { border:none;}
 			.pcenter {text-align:  center;}
 			.gitimage { height: 60px; }
		</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h2>Git Essentials</h2>
					<p class="pcenter">
						<img src="images/git.png" class="gitimage" />
					</p>
					<p class="pcenter"><small>firat atagun</small> </p>
					
				</section>
				<section>
					<section>
						<h4>What is Version control system?</h4>
						<small>A software desinged to tracked changes to set of files over the time. VCS provides ability to revert back to previous states or version.</small>
						<br/><br/>
						<small>Back in the days; files/folders were copied and pasted. Then folders were renamed to indicate the version of the project. ie: skynet1, skynet2 etc. That was the way to version control projects. But that was hard to manage, search, find changes and maintain.</small>
					</section>
					<section>
						<small>Local Version Control Systems were developed to store patches of differences made to the file. It was a local database storing content locally. The end result was a join of patch changes. Each patch contained changes to the file. If one of the patches corrupt, possibility to lose the file incurs.</small>
					</section>
					<section>
						<small>Then, Centralized Version Control systems were developed. ie: SVN, CVS. With centralized version control system users push and pull changes to and from a central server. Even though this was a great achievement compared to local version control systems, there were flaws, such as if the centralized server goes down, or files corrupt.</small>
					</section>
					<section>
						<small>To overtome the limitations and introduce better way of working and collaboration, distributed version control systems developed: ie: git, mercurial. With this model every user gets a full copy of the project including full history and branches.</small>
					</section>
					<section>
						<h4>Distribution Model</h4>
						<span>
							Local, Centralized, Distributed. 
						</span>	
					</section>
					<section data-background="#21618C"> 
						<h4>History</h4>
						<span>
							 RCS -> CVS -> SVN -> Git
						</span>	
					</section>
				</section>

				<section>
					<section>
						<h4>Storage</h4>

						<p>When talking about version control system we can identity two kinds of storage namely delta storage and DAG (directed acyclic graph).</p>
					</section>
					<section>
						<h5>Delta Storage</h5>
						<img src="images/deltastorage.png" />
					</section>

					<section>
						<h5>Delta Storage Apps</h5>
						<img src="images/deltastorage_apps.png" />
					</section>

					<section>
						<h5>DAG Storage</h5>
						<img src="images/dagstorage.png" />
						<small>Git uses snapshot. Every commit is a snapshot of all the files in a repository.</small>
					</section>

					<section>
						<h5>DAG Storage Apps</h5>
						<img src="images/dagstorage_apps.png" /> 
					</section>


				</section>

				<section>
					<section>
						<h4>What is Git?</h4>
						<small>
							Git is a distributed version control system. 
						</small>
					</section>
					<section>
						<p>
							In fact, git is a content addressable file system and a persistent map with a version control system developed on top it. It has been designed to work with or without a centralized server.
						</p>
					</section>

					<section>
						<p>
							While CVS and SVN designed to track files, git was designed to track content. 
						</p>
					</section>

					<section>
						<p>
							While CVS and SVN designed to track files, git was designed to track content. 
						</p>
					</section>
				</section>
				
				<section>
					<section>
						<h4>Goals</h4>
						<p class="fragment">
							<em>Fully distributed</em> 
						</p> 
						<p class="fragment">
							<em>Support non-linear development</em>
						</p> 
						<p class="fragment">
							<em>Handle large projects efficiently.</em>
						</p> 
						<p class="fragment">
							<em>Atomicity</em> Every operation is atomic. 
						</p> 
						<p class="fragment">
							<em>Performance:</em> It is very fast. 
						</p> 
						<p class="fragment">
							<em>Security:</em> Uses checksum and hashing for authenticity. 
						</p>
					</section>
				</section>
				<section>
					<h4>Installation</h4>
					<p>
						<a href="https://git-scm.com/downloads">Download</a> 
						<br/>
						Follow <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git ">instructions</a>  
					</p>
				</section>

				<section>
					<section>
						<h4>Configuration</h4>
						<p>
							Once setup is complete you can start configuring git. 
						</p>
					</section>

					<section>
						<p>Setting up user name and email</p>
						<pre><code class="hljs"># git config --global user.name username
# git config --global user.email mailaddress</code></pre>
						<p>If <em>--global</em> option is left out configuration only applies to the specific repository.</p>
					</section>

					<section>
						<p>Setting alias for Commands</p>
						<pre><code class="hljs" data-trim>
	 						# git config --global alias.aliasname commandname 
						</code></pre> 
						<p>For example:<br/>
<pre><code class="hljs" data-trim>
	 						# git config --global alias.st status 
						</code></pre>
						</p>

						<p>To view all the configuration options:<br/>
<pre><code class="hljs" data-trim>
	 						# git config --list 
						</code></pre>
						</p>
					</section>

				</section>

				<section>
					<h4>GUI Clients</h4>
					<p>
						There are several GUI clients. Some of are:
						<ul>
							<li>SourceTree</li>
							<li>Github Desktop</li>
							<li>Git Kraken</li>
							<li>Smart git</li>
						</ul> 
					</p>
				</section>
				<section>
					<section>
						<h4>Getting Started</h4> 
					</section>
					<section>
						<p>Initialize a repository</p>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git init
						</code></pre>
					</section>
					<section>
						<p>Add file(s) to it</p>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git add file.name
						</code></pre>
					</section>
					<section>
						<p>Commit</p>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git commit -m "your commit message"
						</code></pre>
					</section> 
					<section>
						<p>Check Status</p>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git status 
						</code></pre>
						<p>or short status</p>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git status -s
						</code></pre>
					</section> 
				</section>

				<section>
					<section>
						<h4>Break down</h4>
					</section>
					<section> 
						<p>There are 3 areas in Git namely working area, staging area and repository.</p>
						<p> <em>Working Area</em> <-> <em>Staging Area</em> <-> <em>Repository</em> </p>
						<p>Files basically move right and left between the areas.</p>
						<img src="images/areas.png" />
					</section>
					<section>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git init
						</code></pre>
						<p>Creates a repository of the <em>working area</em>. You will see ".git" folder in your <em>working area</em>. That is your local repository. There are bunch of folders and files in .git folder go manage your source code. </p>
						<img src="images/inworkingdirectory.png" />
					</section>
					<section>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git add index.html
						</code></pre>
						<p>Adds the file to <em>staging area</em>. You can browse and watch what is happening when you add some files to staging area.</p>
						<img src="images/instaging.png" />
					</section>
					<section>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git commit -m "my commit message"
						</code></pre>
						<p>Commits the file to the <em>repository</em>. Likewise, once commit is done, you can browse the .git folder to see what is the side effect of committing and how it is done.</p>
						<img src="images/inrepository.png" />
					</section>
					<section>
						<p>Commits create hashes which are references to the snapshot of the repository at that point of time.</p>
					</section>
				</section>

				<section>
					<h4>Foundations of Git</h4>
					<p class="fragment">
						Commits 
					</p>
					<p class="fragment">
						Snapshots
					</p>
					<p class="fragment">
						References
					</p>
				</section>
				
				<section>
					<section>
						<h5>Hashing ?</h5>
						<p>
							Before files are stored in the database, git checksums the file. These checksums are used to refer to the version references.
						</p>
						<p>Git uses one way hashing algorithm (SHA1).</p>
					</section>
					<section>
						<p>Hash of an object always produces same outputs. Same data always generates same output. ie: SHA1("hello world") is universally same. Git tracks content by hashing and checksum.</p>
					</section>
					<section>
						<p>Hash of an object always produces same outputs. Same data always generates same output. ie: SHA1("hello world") is universally same. Git tracks content by hashing and checksum.</p>
					</section>
					<section>
						<p>Hash index.html</p>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git hash-object index.html
						</code></pre>
						<p>copy and paste index.html to index2.html</p>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git hash-object index2.html
						</code></pre>
						<p>Git outputs the same hash based on content.</p>
					</section>
				</section>

				<section>
					<section>
						<h4>Git Object Model</h4>
						<p>Git repository is an object store that holds four kinds of objects: blobs, trees, commits, and tags</p>
						<p>Everything in Git repository if Object. Objects never change once created, they are immutable.</p>
					</section>
					<section>
						<p>An object has has the following properties.</p>
						<p>
							<ul>
								<li><strong>A type (Blob, Tree, Commit or Tag)</strong></li>
								<li>Size</li>
								<li>Content</li>
							</ul> 
						</p>
					</section>
					<section>
						<p>Object are represented with SHA1 hashes (40 digit long string) of their content.</p>
						<p>
							<ul>
								<li>Very low chance of collision</li>
								<li>Usually 6 or 7 character is enough for reference</li> 
							</ul> 
						</p>
					</section>

					<section>
						<img src="images/git_object_model.png" />
					</section>

					<section>
						<p>To see the type of the object:</p>
						<pre><code class="hljs" data-trim contenteditable>
							# git cat-file -t 7f2535f
							commit
						</code></pre>
						<p>To see it in pretty form:</p>
						<pre><code class="hljs" data-trim contenteditable>
							# git cat-file -p 7f2535f
							tree 872303aa715a9a935a3c89194ce9e755af74e85e
							parent 0d71744d00698cc991f1f5e8f06d8caa38b091f3
							author firat 1530946207 +0300
							committer firat 1530946207 +0300

							images

						</code></pre>
					</section>
					<section>
						<p>Using the same approach object model can be traversed.</p>
						<pre><code class="hljs" data-trim contenteditable>
							➜  gitessentials git:(master) ✗ git cat-file -p 872303
							100644 blob e7b4f216ae95408f210f5b463f4afa1a7fbfde72	.gitignore
							100644 blob 8b137891791fe96927ad78e64b0aad7bded08bdc	README.md
							040000 tree 3d9b616821d797659f7ecb334ef30e68f3c889a8	css
							100644 blob 505bb18829e66b94cb430b135823a2a37f448454	demo.html
							040000 tree 97c67f49e0ef0e66cc58a8db4aa7954f6ac3b26b	images
							100644 blob f0782a34aad1a96d502715a9283151e266694789	index.html
							040000 tree cefdab4fcf32c15d3239c92dcbdf0032949ea8b9	js
							040000 tree da9b393e765c481c8b19f85922bd849cbc120c6b	lib
							040000 tree bced3065ee3360cf38e6a1c7641a9d7df1f48fca	plugin
							040000 tree f2a6f41d44e52015ed79e317314f21e68a0fb6c5	test
							100644 blob d554a3707e36d2848e8a4dc7c1eed65b3639bfac	vcs_history.PNG
						</code></pre>
						 
					</section>

					<section>
						<p>Finally you can see the content of a blob.</p>
						
						<pre><code class="hljs" data-trim contenteditable>
							# git cat-file -p f0782a
						</code></pre>
					</section>

					<section>
						<h4>Anatomy of a Tree</h4>
						<table>
							<thead>
								<tr>
									<th>Tree</th>
									<th>Hash</th>
									<th>Name</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Blob</td>
									<td>ju23li</td>
									<td>Index.html</td>
								</tr>
								<tr>
									<td>Tree</td>
									<td>32re32</td>
									<td>images</td>
								</tr>
								<tr>
									<td>Tree</td>
									<td>we3m33</td>
									<td>css</td>
								</tr>
							</tbody>
						</table>
					</section>

					<section>
						<h4>Anatomy of a Commit</h4>
						<table>
							<thead>
								<tr>
									<th>Tree</th>
									<th>Hash</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Tree</td>
									<td>cc8ee2</td> 
								</tr>
								<tr>
									<td>Parent</td>
									<td>mkil23</td>
								</tr>
								<tr>
									<td>Author</td>
									<td>Firat</td>
								</tr>
								<tr>
									<td>Committer</td>
									<td>Firat</td>
								</tr>
								<tr>
									<td>Commit message</td>
									<td></td>
								</tr>
							</tbody>
						</table>
					</section>

					<section>
						<h4>References</h4>
						<p>Lightweight movable pointers used by branches, tags, HEAD. References are in <em>.git/refs</em> folder
						</p>
					</section>

					<section>
						<small>Each commit points to its parents in the history. There can be only one head and history of commits (snapshots)</small>
						<img src="images/commit_graph.png" />
					</section>

				</section>

				<section>
					<section>
						<h5>Renaming a file</h5>
						<small>Only a file in staging area can be renamed by Git. If the file is not tracked by repository, you need to renaming with OS capabilities.</small>
					</section>

					<section>
						<pre><code class="hljs" data-trim contenteditable>
							# git mv inde.html index.html
							# git commit -m "renaming" 
						</code></pre>
					</section>
				</section>

				<section>
					<section>
						<h4>Contents of a commit</h4>
						<p>To see contents of a commit: </p>
						<pre><code class="hljs" data-trim contenteditable>
							# git show 4f62eae1b 
						</code></pre>
					</section>
					<section>
						<p>If you like to see the parents of a commit you can use ^ (caret sign). If you like see the parent of a parent commit use two of them ^^.</p>

						<pre><code class="hljs" data-trim contenteditable>
							# git show 4f62eae1b^
						</code></pre>

						<pre><code class="hljs" data-trim contenteditable>
							# git show 4f62eae1b^^
						</code></pre>
					</section>
					<section>
						<p>You can also possible to use numbers.</p>
						<pre><code class="hljs" data-trim contenteditable>
							# git show 4f62eae1b^2
						</code></pre>
					</section>

				</section>

				<section>
					<section>
						<h5>Git log</h5>
						<pre><code class="hljs" data-trim>
							# git log
						</code></pre>
						<small>Shows the history of repository and you can easily navigate through commits.</small>
					</section>

					<section>
						<small>Git log can take several options and an alias can be created out of them.</small>
					</section>

					<section>
						<small>Git log in one line</small>
						<pre><code class="hljs" data-trim contenteditable>
							# git log --oneline
						</code></pre>
					</section>

					<section>
						<small>Git log with graph representation</small>
						<pre><code class="hljs" data-trim contenteditable>
							# git log --graph
						</code></pre>
					</section>

					<section>
						<small>Git log shows reference information</small>
						<pre><code class="hljs" data-trim contenteditable>
							# git log --decorate
						</code></pre>
					</section>

					<section>
						<small>Git log include branches and tags</small>
						<pre><code class="hljs" data-trim contenteditable>
							# git log --branches --tags
						</code></pre>
					</section>

					<section>
						<small>Git log with several options</small>
						<pre><code class="hljs" data-trim contenteditable>
							# git log --oneline --graph --decorate --branches --tags 
						</code></pre>
					</section>

					<section>
						<small>You can create alias for it.</small>
						<pre><code class="hljs" data-trim contenteditable>
							# git config --global alias.lol "log --oneline --graph --decorate --branches --tags" 
						</code></pre>
					</section>

					<section>
						<small>It is possible to view the diff between branches:</small>

						<pre><code class="hljs" data-trim contenteditable>
							# git log master..feature 
						</code></pre>

						<small>Speaking of diff...</small>
					</section>

				</section>

				<section>
					<section>
						<h5>Git diff</h5>
						<small>Can be used to view the differences between commits. External programs can be bind to view it in a more visual way.</small>
					</section>

					<section>
						<small>
							Diff between HEAD and one commit earlier
						</small>
						<pre><code class="hljs" data-trim contenteditable>
							# git diff HEAD HEAD^ 
						</code></pre>
					</section>

					<section>
						<small>
							Diff between HEAD and two commit earlier
						</small>
						<pre><code class="hljs" data-trim contenteditable>
							# git diff HEAD HEAD^^ 
						</code></pre>
					</section>

					<section>
						<small>
							Diff between any commits
						</small>
						<pre><code class="hljs" data-trim contenteditable>
							# git diff 3e2b 28dd 
						</code></pre>
					</section>

					<section>
						<small>
							Diff between branches
						</small>
						<pre><code class="hljs" data-trim contenteditable>
							# git diff master develop 
						</code></pre>
					</section>

				</section>

				<section>
					<section>
						<h4>Cherry Picking</h4>
						<img src="images/cherry-picking.jpg" />
					</section>
					<section>
						<p>It is possible to cherry pick specific commits from different branches.</p>
					</section>
					<section>
						<pre><code class="hljs" data-trim contenteditable>
							# git cherry-pick 4f62eae1
						</code></pre>
						<p>Cherry picks a commit from another branch.</p>
						<p><em>-x</em> writes to commit log that the specified commit has been cherry picked.</p>
					</section>
					<section>
						<img src="images/cherrypicking_commits.png">
					</section>
				</section>

				<section>
					<section>
						<h5>Reference log aka Reflog</h5>
						<small>Git keeps reference record of all the commits internally in your repository at any time. However, these references can be purged or garbage collected. They are also only local. </small>

						<strong>Use with caution.</strong>
					</section>

					<section>
						<small>Reflog becomes handy when you want to rescuse lost data in the history</small>

						<pre><code class="hljs" data-trim>
	 						# git reflog
						</code></pre> 
						<small>
							Displays the reference logs of commits.
						</small>
					</section>

					<section>
						<small>Any reference can be checkout. </small>

						<pre><code class="hljs" data-trim>
	 						# git checkout 74c11e0
						</code></pre> 
						<small>
							Entering reflog detaches head. Files can be created and committed but unless merged to any branch they are lost. 
						</small>
					</section>

					<section>
						<small>A commit from detached state or reflog can be cherry-picked with out creating a branch and merging. </small>

						<pre><code class="hljs" data-trim>
	 						# git cherry-pick 74c11e0
						</code></pre>
					</section>

				</section>

				<section>
					<section>
						<h5>Checking out commits</h5>
						<small>Any commit/snapshot can be checkout any given time. However, similar to Reflog, commit can be viewed in detached mode.</small>

						<pre><code class="hljs" data-trim>
							# git checkout 74c11e0
							# git checkout HEAD^^
						</code></pre>
					</section>

					<section>
						<h5>Going back to where you left off</h5>
						<small>Getting out of detached mode or HEAD can be done as following similar to how linux handles history -1. </small>

						<pre><code class="hljs" data-trim>
							# git checkout -
						</code></pre>
					</section>
				</section>

				<section>
					<section>
						<h4>Stash</h4>
						<p>Stash is another area where files can be stored for a while.</p>
						<p>Stash can be though of stack. It works with push and pop methods.</p>
						<p>By default only tracked files can be stored in stash. Objects should be indexed first to be stashed.</p>
					</section>
					<section>
						<h5>Stash my current state</h5>
						<pre><code class="hljs" data-trim contenteditable>
	 						# vim index.html
	 						# git add index.html
	 						# git stash
						</code></pre>
						<p>index.html is now stashed. Additionally, current commit is checked out.</p>
					</section>
					<section>
						<h5>List of stashes can be seen.</p>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git stash list
						</code></pre> 
					</section>
					<section>
						<h5>Recovering from stash</h5>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git stash pop
	 						# git stash apply
						</code></pre> 
					</section>
					<section>
						<h5>Delete a stash</h5>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git stash drop
						</code></pre> 
					</section>
					<section>
						<h5>Delete all stashes</h5>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git stash clear
						</code></pre> 
					</section>
				</section>
				<section>
					<section>
						<h4>Tags</h4>
						<p>Tags are like branches, however, tags do not move. Tags directly points to a commit.</p>
						<p>There are two types of tags. One of them is normal the other is annotated which can store metadata such as email, username etc. </p> 
					</section>
					<section>
						<h4>Display tags</h4>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git tag  
						</code></pre>
						<p>-n will show annotations<p> 
					</section>
					<section>
						<h4>Create tag</h4>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git tag version.1.0.1  
						</code></pre> 
					</section>
					<section>
						<h4>Create tag with comment</h4>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git tag -a version.1.0.1  
						</code></pre> 
					</section>
					<section>
						<h4>Delete a tag</h4>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git tag -d version.1.0.1
						</code></pre> 
					</section>
					<section>
						<h4>Checkout a tag</h4>
						<pre><code class="hljs" data-trim contenteditable>
	 						# git checkout version.1.0.1
						</code></pre> 
					</section>
					<section>
						<h4>Checkout a tag and create a branch</h4>
						<pre><code class="hljs" data-trim>
	 						# git checkout version.1.0.1 -b NewBranch
						</code></pre> 
					</section>
				</section>



				<section>Slide 2</section>
				<section>Slide 2</section>
				<section>Slide 2</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/search/search.js', async: true },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});
		</script>
	</body>
</html>
